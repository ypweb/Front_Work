<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0,viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta content="telephone=no" name="format-detection"/>
    <title>待办意见</title>
    <link rel="stylesheet" href="../../resource/css/weui.css">
    <link rel="stylesheet" href="../../resource/css/font.css">
    <link rel="stylesheet" href="../../resource/css/global.css">
    <link rel="stylesheet" href="../../resource/css/base.css">
    <!--require js-->
    <script src="../../resource/js/lib/require/require.js"></script>
    <script>
        /*配置依赖*/
        require.config({
            baseUrl: '/zwwx/',
            paths: {
                "jquery": "resource/js/lib/jquery/jquery.min"
            },
            shim: {}
        });


        /*程序入口*/
        require(['jquery'], function ($) {
            $(function () {
                //页面元素获取
                var $idea_btn = $('#idea_btn'),
                    $idea_textarea = $('#idea_textarea'),
                    $idea_sure = $('#idea_sure'),
                    $idea_cancel = $('#idea_cancel');


                /*事件绑定*/
                $idea_btn.on('click', function (e) {
                    var target = e.target,
                        nodename = target.nodeName.toLowerCase(),
                        $this = null,
                        $li = null;

                    /*过滤非标签*/
                    if (nodename === 'p' || nodename === 'li' || nodename === 'ul') {
                        return false;
                    }


                    if (nodename === 'span') {
                        if(target.className.indexOf('theme-icon') !== -1){
                            /*切换显示隐藏*/
                            $this = $(target);
                            $li = $this.parents('li');
                            $this.toggleClass('toggle-active');
                            $li.toggleClass('toggle-active');
                        }else if(target.className.indexOf('download') !== -1){
                            if(target.className.indexOf('toshow') !== -1){
                                /*查看*/
                                console.log('查看');
                            }else{
                                /*下载*/
                                $this = $(target);
                                $this.addClass('toshow').html('查看');
                            }
                        }

                    }else if(nodename === 'h2' && target.className.indexOf('wx-labeltheme-wrap') !== -1){
                        /*切换显示隐藏*/
                        $this = $(target).find('span');
                        $li = $this.parents('li');
                        $this.toggleClass('toggle-active');
                        $li.toggleClass('toggle-active');
                    } else if (nodename === 'div' && target.parentNode.className.indexOf('side-edit') !== -1) {
                        /*切换发送*/
                        $idea_textarea.toggleClass('g-d-hidei');
                    }
                });

                /*确定，取消事件*/
                $.each([$idea_sure, $idea_cancel], function () {
                    var own = this;
                    this.on('click', function () {
                        $idea_textarea.addClass('g-d-hidei');
                    });
                })
            });
        });
    </script>
</head>
<body>
<!--待办列表-->
<h2 class="wx-theme-wrap g-bc-white g-gap-mt5 g-gap-mb5">待办意见</h2>
<ul class="wx-lastshowlist-wrap" id="idea_btn">
    <li>
        <h2 class="wx-labeltheme-wrap wx-labeltheme-border">拟办意见/领导批示 <span class="theme-icon theme-icon-toggle"></span>
        </h2>
        <div>
            <div class="main-info">
                <p>呵呵，哈哈，哦哦，嗯嗯</p>
            </div>
            <div class="side-info">
                <p><span>信息化处</span>赖镇先</p>
                <p>2018-07-08</p>
            </div>
        </div>
        <div>
            <div class="main-info">
                标题有错误，应该加粗；正文有错别字，请更正；时间应该写当天时间；底部右下角还应补充申请人
                <p>万维网的核心语言、标准通用标记语言下的一个应用超文本标记语言（HTML）的第五次重大修改（这是一项推荐标准、外语原文：W3C Recommendation、见本处参考资料原文内容</p>
                <p>2014年10月29日，万维网联盟宣布，经过接近8年的艰苦努力，该标准规范终于制定完成</p>
                <p>标准通用标记语言下的一个应用HTML标准自1999年12月发布的HTML4.01后，后继的HTML5和其它标准被束之高阁，为了推动Web标准化运动的发展，一些公司联合起来，成立了一个叫做 Web Hypertext Application Technology Working Group （Web超文本应用技术工作组 -WHATWG） 的组织。WHATWG 致力于 Web 表单和应用程序，而W3C（World Wide Web Consortium，万维网联盟） 专注于XHTML2.0。在 2006 年，双方决定进行合作，来创建一个新版本的 HTML</p>
                支持Html5的浏览器包括Firefox（火狐浏览器），IE9及其更高版本，Chrome（谷歌浏览器），Safari，Opera等；国内的傲游浏览器（Maxthon），以及基于IE或Chromium（Chrome的工程版或称实验版）所推出的360浏览器、搜狗浏览器、QQ浏览器、猎豹浏览器等国产浏览器同样具备支持HTML5的能力。
            </div>
            <div class="side-info">
                <p><span>一秘处</span>张明智</p>
                <p>2018-08-08</p>
            </div>
        </div>
        <div class="mainshow">
            <div class="main-info">
                <p>文字小了点，加大2号</p>
                <p>请注意标点符号</p>
            </div>
            <div class="side-info side-edit">
                <p>张三，李四，王五，赵六</p>
                <p>2018-07-08</p>
                <div></div>
            </div>
        </div>
        <div class="mainshow">
            <div class="main-info">
                <p>在移动设备开发HTML5应用只有两种方法，要不就是全使用HTML5的语法，要不就是仅使用JavaScript引擎。</p>
                <p>JavaScript引擎的构建方法让制作手机网页游戏成为可能。由于界面层很复杂，已预订了一个UI工具包去使用。</p>
                <p>HTML5手机应用的最大优势就是可以在网页上直接调试和修改。原先应用的开发人员可能需要花费非常大的力气才能达到HTML5的效果，不断地重复编码、调试和运行，这是首先得解决的一个问题。因此也有许多手机杂志客户端是基于HTML5标准，开发人员可以轻松调试修改。</p>
                <ul>
                    <li>HTML5的设计目的.doc<span class="download toshow">查看</span></li>
                    <li>用HTML5的优点主要在于，这个技术可以进行跨平台的使用.pdf<span class="download">下载</span></li>
                </ul>
            </div>
            <div class="side-info">
                <p>张三，李四，王五，赵六</p>
                <p>2018-07-08</p>
                <div></div>
            </div>
        </div>
    </li>
</ul>

<!--意见弹窗-->
<div class="wx-tool-wrap wx-tool-lb-wrap g-d-hidei" id="idea_textarea">
    <!--写信息-->
    <div class="wx-tool-textarea">
        <!--textarea-->
        <div class="text-info">
            <textarea placeholder="请输入意见"></textarea>
        </div>
        <!--按钮组-->
        <ul class="wx-btnitem-wrap wx-btnitem-item2 g-gap-mb10">
            <li>
                <div class="zw-btn zw-btn-wxextend g-br5" id="idea_sure">确定</div>
            </li>
            <li>
                <div class="zw-btn zw-btn-wxextend g-br5" id="idea_cancel">取消</div>
            </li>
        </ul>
    </div>
</div>


</body>
</html>